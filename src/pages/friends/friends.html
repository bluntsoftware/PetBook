<!--
  Generated template for the FriendsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>friends hello {{auth.account.firstName}} {{auth.account.lastName}}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <h3>Friend Requests</h3>
  <ion-row>
    <ion-col *ngFor="let friend of listByState('REQUEST')">
      <ion-item>
        <ion-avatar item-start>
          <img class="postPic" src="{{baseUrl}}/assets/ProfilePics/{{friend.email}}.png" (error)="updateUrl($event)">
        </ion-avatar>
        <h3>{{friend.firstName}} {{friend.lastName}} {{friend.state}}</h3>
        <button ion-button (click)="acceptFriendRequest(friend)">Confirm Friend</button>
        <button ion-button (click)="removeFriend(friend)">Remove Friend</button>
      </ion-item>
    </ion-col>
  </ion-row>
  <h3>Friends</h3>
  <ion-row>
    <ion-col *ngFor="let friend of listByState('FRIEND')">
      <ion-item>
        <ion-avatar item-start>
          <img class="postPic" src="{{baseUrl}}/assets/ProfilePics/{{friend.email}}.png" (error)="updateUrl($event)">
        </ion-avatar>
        <h3>{{friend.firstName}} {{friend.lastName}} {{friend.state}}</h3>
        <button ion-button (click)="removeFriend(friend)">Remove Friend</button>
      </ion-item>
    </ion-col>
  </ion-row>
  <h3>Pending Friends</h3>
  <ion-row>
    <ion-col *ngFor="let friend of listByState('PENDING')">
      <ion-item>
        <ion-avatar item-start>
          <img class="postPic" src="{{baseUrl}}/assets/ProfilePics/{{friend.email}}.png" (error)="updateUrl($event)">
        </ion-avatar>
        <h3>{{friend.firstName}} {{friend.lastName}} {{friend.state}}</h3>
        <button ion-button (click)="removeFriend(friend)">Remove Friend</button>
      </ion-item>
    </ion-col>
  </ion-row>
  <h3>Find Friends</h3>
  <ion-row>
    <div *ngFor="let user of users" >
      <ion-col *ngIf="!accountContainsUser(user)">
        <ion-item >
          <ion-avatar item-start>
            <img class="postPic" src="{{baseUrl}}/assets/ProfilePics/{{user.email}}.png" (error)="updateUrl($event)">
          </ion-avatar>
          <h2>{{user.firstName}} {{user.lastName}}</h2>
          <p>{{user.login}}</p>
          <button ion-button (click)="requestFriend(user)">Add Friend</button>
        </ion-item>
      </ion-col>
    </div >

  </ion-row>
</ion-content>
